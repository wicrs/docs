{
  "openapi" : "3.0.0",
  "info" : {
    "title" : "WICRS API",
    "description" : "The API for WICRS.",
    "contact" : {
      "name" : "WICRS Repositories",
      "url" : "https://github.com/wicrs",
      "email" : "none@example.com"
    },
    "license" : {
      "name" : "GNU General Public License v3.0",
      "url" : "https://github.com/wicrs/docs/blob/master/LICENSE"
    },
    "version" : "1.0.0"
  },
  "servers" : [ {
    "url" : "https://virtserver.swaggerhub.com/wicrs/wicrs/1.0.0",
    "description" : "SwaggerHub API Auto Mocking"
  } ],
  "security" : [ {
    "user_token_auth" : [ ]
  } ],
  "tags" : [ {
    "name" : "user",
    "description" : "Operations related to users"
  }, {
    "name" : "group",
    "description" : "Operations related to permission groups"
  }, {
    "name" : "account",
    "description" : "Operations related to accounts owned by users"
  }, {
    "name" : "hub",
    "description" : "Operations related to hubs"
  }, {
    "name" : "channel",
    "description" : "Operations related to channels in hubs"
  }, {
    "name" : "message",
    "description" : "Operations related to messages"
  } ],
  "paths" : {
    "/user" : {
      "get" : {
        "tags" : [ "user" ],
        "description" : "Get the information of the authenticated user",
        "operationId" : "userGet",
        "responses" : {
          "200" : {
            "description" : "A single user",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/user"
                }
              }
            }
          },
          "403" : {
            "description" : "Not authenticated correctly"
          }
        }
      },
      "delete" : {
        "tags" : [ "user" ],
        "description" : "Get the information of the authenticated user",
        "operationId" : "userDelete",
        "responses" : {
          "200" : {
            "description" : "A single user",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/user"
                }
              }
            }
          },
          "403" : {
            "description" : "Not authenticated correctly"
          }
        }
      }
    },
    "/user/{id}" : {
      "get" : {
        "tags" : [ "user" ],
        "description" : "Get the public information of another user",
        "operationId" : "userGetOther",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the user",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "A single user with personal information removed",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/stripped_user"
                }
              }
            }
          },
          "400" : {
            "description" : "Information on the constraints for a string",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/inline_response_400"
                }
              }
            }
          }
        }
      }
    },
    "/user/account/create/{name}" : {
      "post" : {
        "tags" : [ "account" ],
        "description" : "Get the public information of another user",
        "operationId" : "userAccountCreate",
        "parameters" : [ {
          "name" : "name",
          "in" : "path",
          "description" : "Username for the account being created",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "A single account",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/account"
                }
              }
            }
          },
          "400" : {
            "description" : "Information on the constraints for a string",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/inline_response_400"
                }
              }
            }
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/user/account/{accountId}/delete" : {
      "delete" : {
        "tags" : [ "account" ],
        "description" : "Delete one of the authenticated user's accounts",
        "operationId" : "userAccountDelete",
        "parameters" : [ {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Account deletion success"
          },
          "404" : {
            "description" : "User does not have an account with that UUID"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/user/account/{accountId}/rename" : {
      "put" : {
        "tags" : [ "account" ],
        "description" : "Change the username of one of the authenticated user's accounts",
        "operationId" : "userAccountRename",
        "parameters" : [ {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "new_name",
          "in" : "query",
          "description" : "The new username for the account",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Account rename success",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "description" : "The previous name of the account",
                  "example" : "Test Account 1"
                }
              }
            }
          },
          "404" : {
            "description" : "User does not have an account with that UUID"
          },
          "400" : {
            "description" : "Information on the constraints for a string",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/inline_response_400"
                }
              }
            }
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/user/account/{accountId}" : {
      "get" : {
        "tags" : [ "account" ],
        "description" : "Get the information of one of the currently authenticated user's accounts",
        "operationId" : "userAccountGet",
        "parameters" : [ {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "A single user with personal information removed",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/stripped_user"
                }
              }
            }
          },
          "404" : {
            "description" : "No account with that ID"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/user/{userId}/account/{accountId}" : {
      "get" : {
        "tags" : [ "account" ],
        "description" : "Get the public information of a user's account",
        "operationId" : "userAccountGetOther",
        "parameters" : [ {
          "name" : "userId",
          "in" : "path",
          "description" : "ID of the user who owns the account being requested",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "A single user with personal information removed",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/stripped_user"
                }
              }
            }
          },
          "404" : {
            "description" : "User with that ID does not exist or they do not own an account with that ID"
          }
        }
      }
    },
    "/hub/create/{name}" : {
      "post" : {
        "tags" : [ "hub" ],
        "description" : "Create a new hub owned by the authenticated user",
        "operationId" : "hubCreate",
        "parameters" : [ {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "name",
          "in" : "path",
          "description" : "Name for the new hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Hub creation success"
          },
          "400" : {
            "description" : "Information on the constraints for a string",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/inline_response_400"
                }
              }
            }
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/hub/{hubId}" : {
      "get" : {
        "tags" : [ "hub" ],
        "description" : "Get a hub",
        "operationId" : "hubGet",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Hub info",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/hub"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/hub/delete/{hubId}" : {
      "delete" : {
        "tags" : [ "hub" ],
        "description" : "Delete a hub",
        "operationId" : "hubDelete",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Hub deletion success"
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/hub/rename/{hubId}" : {
      "put" : {
        "tags" : [ "hub" ],
        "description" : "Rename a hub",
        "operationId" : "hubRename",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "new_name",
          "in" : "query",
          "description" : "The new name for the hub",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Hub deletion success",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "description" : "The previous name of the hub",
                  "example" : "Test Hub 1"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID"
          },
          "400" : {
            "description" : "Information on the constraints for a string",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/inline_response_400"
                }
              }
            }
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/channel/create/{hubId}/{name}" : {
      "post" : {
        "tags" : [ "channel" ],
        "description" : "Create a new channel in a hub",
        "operationId" : "hubChannelCreate",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "name",
          "in" : "path",
          "description" : "Name of the channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Channel creation success",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "description" : "The UUID of the new channel"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID"
          },
          "403" : {
            "description" : "Account does not have permission to create channels in that hub"
          },
          "400" : {
            "description" : "Information on the constraints for a string",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/inline_response_400"
                }
              }
            }
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/channel/rename/{hubId}/{channelId}" : {
      "put" : {
        "tags" : [ "channel" ],
        "description" : "Create a new channel in a hub",
        "operationId" : "hubChannelRename",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "new_name",
          "in" : "query",
          "description" : "New name for the channel",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Channel rename success",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "description" : "The channel's previous name"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel does not exist"
          },
          "403" : {
            "description" : "Account does not have permission to rename that channel"
          },
          "400" : {
            "description" : "Information on the constraints for a string",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/inline_response_400"
                }
              }
            }
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/channel/delete/{hubId}/{channelId}" : {
      "delete" : {
        "tags" : [ "channel" ],
        "description" : "Delete a channel in a hub",
        "operationId" : "hubChannelDelete",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Channel deletion success",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "description" : "The name of the deleted channel"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel does not exist"
          },
          "403" : {
            "description" : "Account does not have permission to delete that channel"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/channel/{hubId}/{channelId}" : {
      "get" : {
        "tags" : [ "channel" ],
        "description" : "Get channel metadata",
        "operationId" : "hubChannelGet",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Channel get success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/channel"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel does not exist"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/channel/{hubId}/{channelId}/delete_all_of" : {
      "get" : {
        "tags" : [ "message" ],
        "description" : "Search for messages in the a channel",
        "operationId" : "hubChannelDeleteMessages",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "messages",
          "in" : "query",
          "description" : "Array of the UUIDs of messages to delete",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "content" : {
            "application/json" : {
              "schema" : {
                "type" : "array",
                "items" : {
                  "type" : "string"
                }
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Got messages successfully",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "description" : "Array containing all messages found",
                  "items" : {
                    "$ref" : "#/components/schemas/message"
                  }
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel or they do not exist"
          },
          "403" : {
            "description" : "Account does not have permission to view messages in that channel"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/channel/{hubId}/{channelId}/search_for/{term}" : {
      "get" : {
        "tags" : [ "message" ],
        "description" : "Search for messages in the a channel",
        "operationId" : "hubChannelSearchMessages",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "term",
          "in" : "path",
          "description" : "String to search for",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "max",
          "in" : "query",
          "description" : "Maximum number of results",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "maximum" : 1024,
            "minimum" : 1,
            "type" : "integer",
            "default" : 128
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Got messages successfully",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "description" : "Array containing all messages found",
                  "items" : {
                    "$ref" : "#/components/schemas/message"
                  }
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel or they do not exist"
          },
          "403" : {
            "description" : "Account does not have permission to view messages in that channel"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/channel/{hubId}/{channelId}/last_messages" : {
      "get" : {
        "tags" : [ "message" ],
        "description" : "Send a message in a channel",
        "operationId" : "hubChannelGetLastNMessages",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "count",
          "in" : "query",
          "description" : "Number of messages to get",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "maximum" : 1024,
            "minimum" : 1,
            "type" : "integer",
            "default" : 128
          }
        }, {
          "name" : "from",
          "in" : "query",
          "description" : "Message to start getting messages from, if empty starts from last message sent in channel",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Got messages successfully",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "description" : "Array containing the number of messages requested or less if the channel did not have enough",
                  "items" : {
                    "$ref" : "#/components/schemas/message"
                  }
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel or they do not exist"
          },
          "403" : {
            "description" : "Account does not have permission to view messages in that channel"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/channel/{hubId}/{channelId}/send_message" : {
      "post" : {
        "tags" : [ "message" ],
        "description" : "Send a message in a channel",
        "operationId" : "hubChannelSendMessage",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "message",
          "in" : "query",
          "description" : "Contents of the message",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Message sent successfully",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "description" : "UUID of the message"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel or they do not exist"
          },
          "403" : {
            "description" : "Account does not have permission to send messages in that channel"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    },
    "/message/{hubId}/{channelId}/{messageId}" : {
      "get" : {
        "tags" : [ "message" ],
        "description" : "Get a message from a channel by it's ID",
        "operationId" : "hubChannelGetMessage",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "messageId",
          "in" : "path",
          "description" : "UUID of a message in the channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Message get success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/message"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel or they do not exist"
          },
          "403" : {
            "description" : "Account does not have permission to read messages in that channel"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "message" ],
        "description" : "Edit a message in a channel",
        "operationId" : "hubChannelEditMessage",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "messageId",
          "in" : "path",
          "description" : "UUID of a message in the channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "newContent",
          "in" : "query",
          "description" : "New contents of the message",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Edit success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/message"
                }
              }
            }
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel or they do not exist"
          },
          "403" : {
            "description" : "Account did not send that message in the channel"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "message" ],
        "description" : "Delete a message from a channel",
        "operationId" : "hubChannelDeleteMessage",
        "parameters" : [ {
          "name" : "hubId",
          "in" : "path",
          "description" : "UUID of a hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "channelId",
          "in" : "path",
          "description" : "UUID of a channel in the hub",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "accountId",
          "in" : "path",
          "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "messageId",
          "in" : "path",
          "description" : "UUID of a message in the channel",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Deletion success"
          },
          "404" : {
            "description" : "Account does not have access to a hub with that UUID or the channel or they do not exist"
          },
          "403" : {
            "description" : "Account does not have permission to delete messages in that channel"
          },
          "401" : {
            "description" : "Authentication information is missing or invalid",
            "content" : {
              "text/plain" : {
                "schema" : {
                  "type" : "string",
                  "example" : "Authentication information is missing or invalid"
                }
              }
            }
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "permission_setting" : {
        "type" : "string",
        "description" : "Current state of a permission for a user or a permission group",
        "enum" : [ "TRUE", "FALSE", "NONE" ]
      },
      "channel_permission" : {
        "type" : "string",
        "description" : "Permissions that apply only to channels",
        "enum" : [ "All", "ViewChannel", "Configure", "SendMessage", "ReadMessage", "MuteUser" ]
      },
      "hub_permission" : {
        "type" : "string",
        "description" : "Permissions that apply everywhere in a hub",
        "enum" : [ "All", "ViewChannels", "ConfigureChannels", "Administrate", "CreateChannel", "DeleteChannel", "CreateCategory", "DeleteCategory", "ArrangeChannels", "SendMessage", "ReadMessage", "Invite", "Mute", "Unmute", "Kick", "Ban", "Unban", "AddBot" ]
      },
      "hub_permission_map" : {
        "type" : "object",
        "additionalProperties" : {
          "$ref" : "#/components/schemas/hub_permission_map_item"
        },
        "description" : "Map of hub permissions and their set values"
      },
      "channel_permission_map" : {
        "type" : "object",
        "additionalProperties" : {
          "required" : [ "channel_id", "permissions" ],
          "type" : "object",
          "properties" : {
            "channel_id" : {
              "type" : "string"
            },
            "permissions" : {
              "$ref" : "#/components/schemas/channel_permission_map_item"
            }
          }
        },
        "description" : "Map of channel UUIDs to channel permissions and their set values"
      },
      "channel_permission_map_item" : {
        "required" : [ "permission", "setting" ],
        "type" : "object",
        "properties" : {
          "permission" : {
            "$ref" : "#/components/schemas/channel_permission"
          },
          "setting" : {
            "$ref" : "#/components/schemas/permission_setting"
          }
        },
        "description" : "Channel permission and it's current setting"
      },
      "hub_permission_map_item" : {
        "required" : [ "permission", "setting" ],
        "type" : "object",
        "properties" : {
          "permission" : {
            "$ref" : "#/components/schemas/hub_permission"
          },
          "setting" : {
            "$ref" : "#/components/schemas/permission_setting"
          }
        },
        "description" : "Hub permission and it's current setting"
      },
      "date" : {
        "type" : "integer",
        "description" : "Time in milliseconds from 1 Jan 1970"
      },
      "hub_member" : {
        "required" : [ "account", "channel_permissions", "groups", "hub", "hub_permissions", "joined", "nickname" ],
        "type" : "object",
        "properties" : {
          "account" : {
            "type" : "string",
            "description" : "UUID of the account this member represents"
          },
          "joined" : {
            "$ref" : "#/components/schemas/date"
          },
          "hub" : {
            "type" : "string",
            "description" : "UUID of the hub this member is from"
          },
          "nickname" : {
            "type" : "string",
            "description" : "Name used by the member when in this hub"
          },
          "groups" : {
            "type" : "array",
            "description" : "UUIDs of the permission groups this member is part of",
            "items" : {
              "type" : "string"
            }
          },
          "hub_permissions" : {
            "$ref" : "#/components/schemas/hub_permission_map"
          },
          "channel_permissions" : {
            "$ref" : "#/components/schemas/channel_permission_map"
          }
        }
      },
      "hub" : {
        "required" : [ "bans", "channels", "created", "default_group", "groups", "id", "members", "name", "owner" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "UUID of the hub"
          },
          "owner" : {
            "type" : "string",
            "description" : "UUID of the account that owns the hub"
          },
          "bans" : {
            "type" : "array",
            "description" : "List of IDs of users that have been banned from the hub",
            "items" : {
              "type" : "string"
            }
          },
          "default_group" : {
            "type" : "string",
            "description" : "UUID of the permission group assigned to new members"
          },
          "created" : {
            "$ref" : "#/components/schemas/date"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the channel"
          },
          "members" : {
            "type" : "object",
            "additionalProperties" : {
              "$ref" : "#/components/schemas/hub_members"
            },
            "description" : "Members of the hub"
          },
          "groups" : {
            "type" : "object",
            "additionalProperties" : {
              "$ref" : "#/components/schemas/hub_groups"
            },
            "description" : "Permission groups that belong to this hub"
          },
          "channels" : {
            "type" : "object",
            "additionalProperties" : {
              "$ref" : "#/components/schemas/hub_channels"
            },
            "description" : "Channels in the hub"
          }
        },
        "description" : "Represents a hub in a WICRS server"
      },
      "permission_group" : {
        "required" : [ "channel_permissions", "created", "hub_permissions", "id" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "UUID of the hub the group is in"
          },
          "created" : {
            "$ref" : "#/components/schemas/date"
          },
          "hub_permissions" : {
            "$ref" : "#/components/schemas/hub_permission_map"
          },
          "channel_permissions" : {
            "$ref" : "#/components/schemas/channel_permission_map"
          }
        },
        "description" : "Represents a group of permissions that can be given to any member of a hub the hub the group is in"
      },
      "channel" : {
        "required" : [ "created", "hub_id", "id", "name" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "UUID of the channel"
          },
          "created" : {
            "$ref" : "#/components/schemas/date"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the channel"
          },
          "hub_id" : {
            "type" : "string",
            "description" : "UUID of the hub the channel is in"
          }
        },
        "description" : "Represents a channel in a WICRS server"
      },
      "message" : {
        "required" : [ "content", "id", "sender", "sent" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the message"
          },
          "sent" : {
            "$ref" : "#/components/schemas/date"
          },
          "sender" : {
            "type" : "string",
            "description" : "UUID of the account that sent the message"
          },
          "content" : {
            "type" : "string",
            "description" : "Content of the sent message"
          },
          "edited" : {
            "$ref" : "#/components/schemas/message_edited"
          }
        },
        "description" : "Message sent in a text channel"
      },
      "user" : {
        "required" : [ "accounts", "created", "email", "id", "oauth_service" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the user, a hash of the email and if of the account they used to login to their chosen OAuth2 service"
          },
          "oauth_service" : {
            "type" : "string",
            "description" : "The name of the OAuth2 service the user used to sign up"
          },
          "created" : {
            "$ref" : "#/components/schemas/date"
          },
          "email" : {
            "type" : "string",
            "description" : "The primary email of the account the user used for their chosen OAuth2 service"
          },
          "accounts" : {
            "type" : "object",
            "additionalProperties" : {
              "$ref" : "#/components/schemas/account_map_item"
            },
            "description" : "A list of the accounts the user owns"
          }
        },
        "description" : "Represents a user of WICRS"
      },
      "account" : {
        "required" : [ "created", "id", "in_hubs", "is_bot", "parent_id", "username" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "UUID of the account"
          },
          "username" : {
            "type" : "string",
            "description" : "Username of the account"
          },
          "created" : {
            "$ref" : "#/components/schemas/date"
          },
          "parent_id" : {
            "type" : "string",
            "description" : "ID of the user that owns the account"
          },
          "is_bot" : {
            "type" : "boolean",
            "description" : "Whether or not the account is dedicated to automated tasks/bot work"
          },
          "in_hubs" : {
            "type" : "array",
            "description" : "A list of the UUIDs of hubs the account is a member of",
            "items" : {
              "type" : "string",
              "description" : "The UUID of a hub"
            }
          }
        }
      },
      "account_map_item" : {
        "required" : [ "account", "id" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "account" : {
            "$ref" : "#/components/schemas/account"
          }
        }
      },
      "stripped_user" : {
        "required" : [ "accounts", "created", "id" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the user, a hash of the email and if of the account they used to login to their chosen OAuth2 service"
          },
          "created" : {
            "$ref" : "#/components/schemas/date"
          },
          "accounts" : {
            "type" : "object",
            "additionalProperties" : {
              "$ref" : "#/components/schemas/account_map_item"
            },
            "description" : "A list of the accounts the user owns"
          }
        },
        "description" : "A user with some information removed/hidden to allow anyone to recognise them without compromising their privacy"
      },
      "inline_response_400" : {
        "required" : [ "allowed_chars", "max_chars", "min_chars" ],
        "type" : "object",
        "properties" : {
          "allowed_chars" : {
            "type" : "string",
            "description" : "Characters that are allowed to be used in the string",
            "example" : "ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz-_.0123456789"
          },
          "max_chars" : {
            "type" : "integer",
            "description" : "Maximum length of the string in characters",
            "example" : 32
          },
          "min_chars" : {
            "type" : "integer",
            "description" : "Minimum length of the string in characters",
            "example" : 1
          }
        },
        "description" : "String format information"
      },
      "hub_members" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "UUID of the account this member represents"
          },
          "group" : {
            "$ref" : "#/components/schemas/hub_member"
          }
        }
      },
      "hub_groups" : {
        "required" : [ "group", "id" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "UUID of the group"
          },
          "group" : {
            "$ref" : "#/components/schemas/permission_group"
          }
        }
      },
      "hub_channels" : {
        "required" : [ "channel", "id" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "UUID of the channel"
          },
          "channel" : {
            "$ref" : "#/components/schemas/channel"
          }
        }
      },
      "message_edited" : {
        "type" : "object",
        "properties" : {
          "times" : {
            "type" : "integer",
            "description" : "How many times the message was edited"
          },
          "dates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/date"
            }
          }
        },
        "description" : "Times the message was edited"
      }
    },
    "responses" : {
      "unauthorized_error" : {
        "description" : "Authentication information is missing or invalid",
        "content" : {
          "text/plain" : {
            "schema" : {
              "type" : "string",
              "example" : "Authentication information is missing or invalid"
            }
          }
        }
      },
      "user" : {
        "description" : "A single user",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/user"
            }
          }
        }
      },
      "stripped_user" : {
        "description" : "A single user with personal information removed",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/stripped_user"
            }
          }
        }
      },
      "account" : {
        "description" : "A single account",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/account"
            }
          }
        }
      },
      "stripped_account" : {
        "description" : "A single account with the IDs of hubs replaced with hashes",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/account"
            }
          }
        }
      },
      "string_constraints" : {
        "description" : "Information on the constraints for a string",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/inline_response_400"
            }
          }
        }
      }
    },
    "parameters" : {
      "hub_id" : {
        "name" : "hubId",
        "in" : "path",
        "description" : "UUID of a hub",
        "required" : true,
        "style" : "simple",
        "explode" : false,
        "schema" : {
          "type" : "string"
        }
      },
      "channel_id" : {
        "name" : "channelId",
        "in" : "path",
        "description" : "UUID of a channel in the hub",
        "required" : true,
        "style" : "simple",
        "explode" : false,
        "schema" : {
          "type" : "string"
        }
      },
      "account_id" : {
        "name" : "accountId",
        "in" : "path",
        "description" : "UUID of an account that has the necessary permissions and access to the hub and channel",
        "required" : true,
        "style" : "simple",
        "explode" : false,
        "schema" : {
          "type" : "string"
        }
      },
      "message_id" : {
        "name" : "messageId",
        "in" : "path",
        "description" : "UUID of a message in the channel",
        "required" : true,
        "style" : "simple",
        "explode" : false,
        "schema" : {
          "type" : "string"
        }
      }
    },
    "securitySchemes" : {
      "user_token_auth" : {
        "type" : "http",
        "scheme" : "basic"
      }
    }
  }
}